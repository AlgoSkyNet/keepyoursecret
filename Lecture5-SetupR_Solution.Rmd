---
title: "Some Basics notion and practice about R"
output:
  html_document: default
  html_notebook: default
  word_document: default
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

#### Getting started with R

Purpose of this lecture is to give a very basic `start up` into `R`


#### Verify Packages Installed and basic commands

```{r, eval=FALSE, include=TRUE}
######################## This is a comment, you need to add '#' to get it
# Note that you can select the code and press CTRL + ENTER / CMD + ENTER (Mac)

# to install packages
install.packages("tidyverse")
```


```{r, message=FALSE, warning=FALSE}
# to load packages
library(tidyverse)
```

```{r}
# to check packages loaded and write them to the vector
myPackagesLoaded <- search()
```

```{r}
# to visualize the vector
print(myPackagesLoaded)
```

```{r}
# or just with
myPackagesLoaded
```

```{r}
# dataframe is important data object in R. Different columns can have different data types (e.g. string, numeric, etc)
myDataFrame <- iris

# visualize 'head' or 'tail' of the object
head(myDataFrame, 4) # you can specify number of object to visualize
```

```{r, eval=FALSE, include=TRUE}
# to see help page of the function add ? before function
?rm

```

#### Concept of 'pipes'

Probably very powerful concept in R is to use 'pipe' or `%>%` construct. It is allowing you to pass the result of the function as a first argument of the following function:

```{r}
# extracting species column
species1 <- myDataFrame %>% select(Species)
```

is the same as to do:

```{r}
# without a 'pipe'
species2 <- select(myDataFrame, Species)
```

The result is the same

```{r}
# check if the objects are identical
identical(species1, species2)
```

Notice that you can add more pipes...
```{r}
myDataFrame %>% 
  # adds columns
  mutate(SepalLW = Sepal.Length + Sepal.Width,
         PetalLW = Petal.Length + Petal.Width,
         RatioSP = SepalLW/PetalLW) %>% 
  # select only new columns
  select(Species, RatioSP) %>% 
  # visualize
  ggplot(aes(x = Species, y = RatioSP, col = Species)) + geom_point() 
  
```


#### Your turn

1. This construct below is made for package 'tidyverse'. Adapt it for package 'openssl'!!!

```{r}
# check if you have package 'openssl' installed
if ("openssl" %in% rownames(installed.packages())) { 
  print("Package openssl is installed") } else {
    install.packages("openssl")
  }
```

2. Construct a code that will output how many rows in the iris dataset are related to 'sestosa' where RatioSP variable is from 4 to 6?

```{r}
# Constructed 'special' dataset with column RatioSP
specialDF <- myDataFrame %>% 
  # adds columns
  mutate(SepalLW = Sepal.Length + Sepal.Width,
         PetalLW = Petal.Length + Petal.Width,
         RatioSP = SepalLW/PetalLW) %>% 
  # select only new columns
  select(Species, RatioSP)

# use dataset 'specialDF' to manipulate with the data. Hint: use function 'filter()'
specialDF %>% 
 filter(Species == 'setosa') %>% 
  filter(RatioSP > 4) %>% 
  filter(RatioSP < 6) %>% 
  count()

```


