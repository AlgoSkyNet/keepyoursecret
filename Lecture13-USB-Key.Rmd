---
title: "Cryptography is more fun with R! - Learn and use Public Key Cryptography with R Statistical Software"
output:
  html_document: default
  html_notebook: default
  word_document: default
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

https://www.udemy.com/keep-your-secrets-under-control

#### Disclamer

By joining this course or using material from the course you agree that all materials of the course are solely provided "as is" without any guarantee of functionality. All methods are provided for training purposes. Course developed by non security expert by explaining the practical use of **OpenSSL** software library in `R Statistical Software`. There is a risk that you can loose your information in case you are not properly follow the instructions or by loosing your private key or alike. Make sure you know what you do at any time when using the material of the course. Always test your knowledge on dummy data before applying it to real data... Memory areas for your private key, secrets, or passphrase are not securely cleaned after use. You are using the material of the course at your own risk!

#### Lecture 13 Format USB Stick and keep your Private/Public Keys on it!!!

Hello and welcome back! In this short lecture we will cover quite simple concept. Keeping your Private and Public Keys on the USB Stick. It's not a rocket science of course. The main reason of creating this lecture was mostly to insure we can use it for both Mac and Windows. Another learning objective will be to see how to write your keys directly from the script.

The best way of formatting usb keys is probably from Windows PC. Here I have my usb stick labelled PRIVATE. It has a capacity of 8 gigabytes and formatted to FAT32 file system. If you are just using Mac you may format your USB key using Disk Utility.

What you need to do is to simply right click and choose Format... You can choose File system to NTFS and exFat but I really recommend you to stick to FAT32. This format will be good enough to our purpose. Set up your label and press start. Following that you should be just fine.

After that all you need is to write a private and public keys there. The code to do this is available for you in the script `keys.R` that you can find in the branch CaseStudy-USB-Key:

```{r, eval=FALSE, include=TRUE}
# Used Libraries:
library(openssl)
library(tidyverse)

#### KEY MANAGEMENT ####
# save that to USB Key (Windows)
pathPrvKeyUSB <- file.path("D:/private.key")
pathPubKeyUSB <- file.path("D:/public.key")
# generate your private key (NB: make sure to do back up copy!!!)
rsa_keygen(bits = 2099) %>% 
  write_pem(path = pathPrvKeyUSB, password = "simple")
# generate your public key (NB: optional. Use Private Key to encrypt/decrypt)
read_key(file = pathPrvKeyUSB, password = "simple") %>% 
  # extract element of the list and write to file
  `[[`("pubkey") %>% write_pem(pathPubKeyUSB)

```

You should of course customize the code the way you want it... Remember to only run this code once!!!

Finally after you have run your code make sure to make keys backups. I would recommend you to use another USB key and store it in the physically safe place. Of course private key can also be stored under control of the Computer File System. It's totally fine to keep your backup there.

Just to conclude, this lecture was a bit simple to explain how to format your USB keys to be compatible for both windows and Mac. You now even have a code to write your private and public keys there.

To be honest this lecture is just a preparation for the next one where we will have a look how to use private and public keys to quickly encrypt and decrypt your passwords in very userfriendly way!!! I am looking forward to see your there!!!


